<?xml version="1.0" encoding="UTF-8"?>
<org.optaplanner.examples.projectjobscheduling.solver.RestartPhasesSolverConfig>
  <environmentMode>FAST_ASSERT</environmentMode>
  <solutionClass>org.optaplanner.examples.projectjobscheduling.domain.Schedule</solutionClass>
  <entityClass>org.optaplanner.examples.projectjobscheduling.domain.Allocation</entityClass>
<!-- <exhaustiveSearch> -->
<!--     <exhaustiveSearchType>BRANCH_AND_BOUND</exhaustiveSearchType> -->
<!--   </exhaustiveSearch> -->
  <scoreDirectorFactory>
    <!-- BENDABLE --><scoreDefinitionType>BENDABLE</scoreDefinitionType>
    <bendableHardLevelsSize>2</bendableHardLevelsSize>
    <bendableSoftLevelsSize>12</bendableSoftLevelsSize>
    <unallowedWeeksCountForDraft>4</unallowedWeeksCountForDraft>
    <unallowedWeeksCountForAnalysis>2</unallowedWeeksCountForAnalysis>
     <incrementalScoreCalculatorClass>org.optaplanner.examples.projectjobscheduling.solver.score.ProjectJobSchedulingIncrementalScoreCalculator</incrementalScoreCalculatorClass>
<!--     <scoreDrl>org/optaplanner/examples/projectjobscheduling/solver/projectJobSchedulingScoreRules.drl</scoreDrl> -->
  </scoreDirectorFactory>
  <termination>
    <secondsSpentLimit>36000</secondsSpentLimit>
    <unimprovedMinutesSpentLimit>20</unimprovedMinutesSpentLimit>
  </termination>

  <constructionHeuristic>
    <!-- <constructionHeuristicType>FIRST_FIT</constructionHeuristicType> -->
    <queuedEntityPlacer>
      <entitySelector id="placerEntitySelector">
        <cacheType>PHASE</cacheType>
        <selectionOrder>SORTED</selectionOrder>
        <sorterComparatorClass>org.optaplanner.examples.projectjobscheduling.domain.AllocationsPriorityComparator</sorterComparatorClass>
        <sorterOrder>DESCENDING</sorterOrder>
        <entityClass>org.optaplanner.examples.projectjobscheduling.domain.Allocation</entityClass>
      </entitySelector>
    </queuedEntityPlacer>
  </constructionHeuristic>
  <localSearch>
  	<unionMoveSelector>
      <changeMoveSelector>
        <valueSelector>
          <variableName>executionMode</variableName>
        </valueSelector>
      </changeMoveSelector>
      <org.optaplanner.examples.projectjobscheduling.core.heuristic.selector.ResourcesRepulsionMoveSelectorConfig>
        <valueSelectorConfig>
          <variableName>delay</variableName>
        </valueSelectorConfig>
   	  </org.optaplanner.examples.projectjobscheduling.core.heuristic.selector.ResourcesRepulsionMoveSelectorConfig>     
      
    </unionMoveSelector>
    <acceptor>
      <entityTabuRatio>0.2</entityTabuRatio>
      <lateAcceptanceSize>2000</lateAcceptanceSize>
    </acceptor>
    <forager>
      <acceptedCountLimit>4</acceptedCountLimit>
    </forager>
    <termination>
		<unimprovedMinutesSpentLimit>2</unimprovedMinutesSpentLimit>
 	</termination>    
  </localSearch>
</org.optaplanner.examples.projectjobscheduling.solver.RestartPhasesSolverConfig>
